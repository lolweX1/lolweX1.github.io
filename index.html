<!DOCTYPE html>
<html>
<head>
  <style>
    #horizontalBar {
      width: 100vw;
      background-color: green;
	  display: block;
    }
	.searchBarSpan:hover {
		background-color: #00aa00;
	}
	.searchBarSpan {
		border: 1px black solid;
		margin-right: 2px;
	}
  </style>
</head>
<body>
<div id="Title"  style="margin: 0; padding: 0;">
<h1 style="display:inline-block; margin: 0; padding: 0;">Simulations</h1>
<h3 style="display:inline-block;  margin: 0; padding: 0;"> (and lessons/games)</h3>
</div>

<div id="horizontalBar">
  <span id="hBar1" class="searchBarSpan" onclick="showSection('chemistry')">Chemistry</span>
  <span id="hBar2" class="searchBarSpan" onclick="showSection('biology')">Biology</span>
  <span id="hBar2" class="searchBarSpan" onclick="showSection('history')">History</span>
</div>

<div id = "classes generator">
<span id = "cg_step_1">
	<form onsubmit = "log_classes(event)">
		<input type="submit" value="Submit">
		<button onclick="next_cg(1)">next</button><br>
		<label for="ClassLog">Add Class:</label>
		<input type="text" id="ClassLog" name="ClassLog"><br>
		<label for="ClassRemove">Remove Class:</label>
		<input type="text" id="ClassRemove" name="ClassRemove"><br><br>
	</form>
	<h4 id="ClassesAdded"> <b>Class List: </b>
	</h4>
</span>

<span id = "cg_step_2" style="display:None;">
	<form onsubmit = "log_students(event)">
		<input type="submit" value="Submit">
		<button onclick="back_cg(2)">back</button>
		<button onclick="next_cg(2)">next</button><br>
		<label for="StudentLog">Add Student:</label>
		<input type="text" id="StudentLog" name="StudentLog"><br>
		<label for="StudentRemove">Remove Student:</label>
		<input type="text" id="StudentRemove" name="StudentRemove"><br><br>
	</form>
	<h4 id="StudentsAdded"> <b>Student List: </b>
	</h4>
</span>

<span id = "cg_step_3" style="display:None;">
	<form id="myForm">
		<button type="button" onclick="back_cg(3)">back</button>
		<button type="button" onclick="next_cg(3)">next</button>
    </form>
</span>
</div>


<div id="Chem" style="display: None;">
	<h1>Hello</h1>	
</div>
<div id="Bio" style="display: None;">
	<h1>D:</h1>
</div>
<div id="History" style="display: None;">
	<span id = "historyFlash" style="position: absolute; width: 65vw; height: 40vh; background-color: #eeeeee;" onclick="change(80, 40, false)">boo</span>
	<canvas id="BallBoing"></canvas>
</div>
</body>
	<script>
		const sections = {
			"chemistry": document.getElementById("Chem")
			,"biology": document.getElementById("Bio")
			,"history": document.getElementById("History")
		}
		
		const classes = {
		}
		const students = {
		}

		function change(count, height, reverse) {
			console.log(document.getElementById("historyFlash").style.height);
			if (count != 0) {
				rev = reverse;
				tempHeight = height;
				if (height == 0 && rev == false) {
					rev = true;
				}
				if (rev) {
					tempHeight += 1;
				} else {
					tempHeight -= 1;
				}
				document.getElementById("historyFlash").style.height = "20vh";
				sleep(50);
				change(count-1, tempHeight, rev)
			}
		}
		function sleep(milliseconds) {
		  var start = new Date().getTime();
		  for (var i = 0; i < 1e7; i++) {
			if ((new Date().getTime() - start) > milliseconds){
			  break;
			}
		  }
		}
		
		function showSection(sect) {
			for (i in Object.keys(sections)) {
				sections[Object.keys(sections)[i]].display = "None";
			}
			console.log(sections[sect]);
			sections[sect].style.display = "block";
		}
		
		function log_classes(e) {
			e.preventDefault(); // Prevents form submission from reloading the page
			if (document.getElementById("ClassLog").value != "") {
				classes[document.getElementById("ClassLog").value.toLowerCase()] = "medium";
				document.getElementById("ClassLog").value = "";
			}
			if (document.getElementById("ClassRemove").value != "") {
				let removeObj = document.getElementById("ClassRemove").value.toLowerCase();
				if (!classes[removeObj]) {
					console.log("class is not found");
				} else {
					delete classes[removeObj]; //the if else is optional, but i added it bc why not
				}
				document.getElementById("ClassRemove").value = "";
			}
			for (let i = 0; i < Object.keys(classes).length; i++) {
				if(i == 0) {
					document.getElementById("ClassesAdded").innerHTML = "<b>Class List: </b> <br>" + Object.keys(classes)[i] + "<br>";
				} else {
					document.getElementById("ClassesAdded").innerHTML += Object.keys(classes)[i] + "<br>";
				}
			}
		}
		
		function log_students(e) {
			e.preventDefault(); // Prevents form submission from reloading the page
			if (document.getElementById("StudentLog").value != "") {
				students[document.getElementById("StudentLog").value.toLowerCase()] = "medium";
				document.getElementById("StudentLog").value = "";
			}
			if (document.getElementById("StudentRemove").value != "") {
				let removeObj = document.getElementById("StudentRemove").value.toLowerCase();
				if (!students[removeObj]) {
					console.log("class is not found");
				} else {
					delete students[removeObj]; //the if else is optional, but i added it bc why not
				}
				document.getElementById("StudentRemove").value = "";
			}
			for (let i = 0; i < Object.keys(students).length; i++) {
				if(i == 0) {
					document.getElementById("StudentsAdded").innerHTML = "<b>Student List: </b> <br>" + Object.keys(students)[i] + "<br>";
				} else {
					document.getElementById("StudentsAdded").innerHTML += Object.keys(students)[i] + "<br>";
				}
			}
		}
		
		function next_cg(currentNum) {
			if (currentNum+1 == 3) {
				populateSelect();
			}
			document.getElementById("cg_step_" + currentNum).style.display = "none";
			document.getElementById("cg_step_" + (currentNum+1)).style.display = "inline-block";
		}
		
		function back_cg(currentNum) {
			/*if (currentNum-1 == 3) {
				populateSelect();
			}*/
			console.log("wtf" + currentNum);
			document.getElementById("cg_step_" + currentNum).style.display = "none";
			document.getElementById("cg_step_" + (currentNum-1)).style.display = "inline-block";
		}
		
		function populateSelect() {
			for (let i = 0; i < Object.keys(students).length; i++) {
				let sel = document.createElement("select");
				let breakText = document.createElement("br");
				let name = Object.keys(students)[i];
				sel.id = "selectName" + name;
				sel.name = name;
				
				let label = document.createElement('label'); // Create the label element
				label.for = sel.id;
				label.textContent = Object.keys(students)[i] + " priority: ";
				
				//select.onchange = showSelection;
				document.getElementById("myForm").appendChild(breakText);
				document.getElementById("myForm").appendChild(label);
				document.getElementById("myForm").appendChild(sel);
				sel.innerHTML = '<option value="" selected disabled>medium</option>';
				let temp = ["low", "medium", "high"]
				for (let j = 0; j <temp.length; j++) {
					const opt = document.createElement("option");
					opt.value = temp[j];
					opt.textContent = temp[j];
					sel.appendChild(opt);
				}
			}
		}
		
		const teachers = {
			"Teachname": {
				"periods": {
					"period": "className or none"
				},
				"students": {
					"period": [],
				}
			}
		}
		function calc() {
		}
	</script>
	<script src = "BallBounce.js"></script>
</html>
